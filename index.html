<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mama Donat - Cianjur | Donat Lezat dengan Berbagai Varian Rasa</title>
<meta name="description" content="Nikmati donat lezat dengan berbagai pilihan rasa di Mama Donat Cianjur. Tersedia Mini Box, Medium Box, Big Box, dan Party Box dengan varian coklat, strawberry, keju, dan lainnya.">
<meta name="keywords" content="donat cianjur, mama donat, donat lezat, donat varian rasa, donat murah, donat enak, cianjur jawa barat">
<meta name="author" content="Mama Donat Cianjur">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://mamadonat-cianjur.com">
<!-- Open Graph Meta Tags -->
<meta property="og:title" content="Mama Donat - Cianjur | Donat Lezat dengan Berbagai Varian Rasa">
<meta property="og:description" content="Nikmati donat lezat dengan berbagai pilihan rasa di Mama Donat Cianjur. Tersedia Mini Box, Medium Box, Big Box, dan Party Box dengan varian coklat, strawberry, keju, dan lainnya.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://donutsmama.vercel.app">
<meta property="og:image" content="https://i.ibb.co.com/wNsVj5Z6/file-000000006db07206a3a8b5677abc49e6.png">
<meta property="og:site_name" content="Mama Donat Cianjur">
<meta property="og:locale" content="id_ID">
<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Mama Donat - Cianjur | Donat Lezat dengan Berbagai Varian Rasa">
<meta name="twitter:description" content="Nikmati donat lezat dengan berbagai pilihan rasa di Mama Donat Cianjur. Tersedia Mini Box, Medium Box, Big Box, dan Party Box dengan varian coklat, strawberry, keju, dan lainnya.">
<meta name="twitter:image" content="https://i.ibb.co.com/Z6wpFF8d/file-000000006db07206a3a8b5677abc49e6.png">
<meta name="google-site-verification" content="lo2i6ODbwu44PJEIBP84zXDCA8-lCORqVHopTyYjAOY" />
<!-- Favicon -->
<link rel="icon" type="image/png" href="https://i.ibb.co.com/1YW5yfdr/file-0000000041c87206a3a4d155bc0f6ca6.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://i.ibb.co.com/1YW5yfdr/file-0000000041c87206a3a4d155bc0f6ca6.png" sizes="16x16">
<link rel="apple-touch-icon" href="https://i.ibb.co.com/1YW5yfdr/file-0000000041c87206a3a4d155bc0f6ca6.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://donutsmamaa.vercel.app/sitemap.xml">
<style>
  :root {
    --bg: #fafafa;
    --text: #111;
    --accent: #e91e63;
    --gray: #e9e9e9;
    --light-pink: #fce4ec;
    --white: #ffffff;
    --shadow: 0 4px 20px rgba(0,0,0,0.1);
    --radius: 20px;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    margin: 0;
    height: 100vh;
    background: var(--bg);
    color: var(--text);
    font-family: "Poppins", sans-serif;
    overflow-x: hidden;
  }

  /* Floating search capsule */
  .floating-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 12px;
    z-index: 1000;
    width: 90%;
    max-width: 400px;
  }

  .search-container {
    position: relative;
    flex: 1;
  }

  .search-bar {
    background: var(--white);
    border: 1px solid #ccc;
    border-radius: 50px;
    padding: 10px 20px;
    width: 100%;
    color: var(--text);
    font-size: 14px;
    outline: none;
    transition: all 0.3s ease;
  }

  .search-bar:focus {
    border-color: var(--accent);
    box-shadow: 0 0 10px rgba(233, 30, 99, 0.3);
  }

  .autocomplete-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--white);
    border-radius: 15px;
    box-shadow: var(--shadow);
    max-height: 200px;
    overflow-y: auto;
    z-index: 1001;
    display: none;
  }

  .autocomplete-item {
    padding: 10px 20px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .autocomplete-item:hover {
    background: var(--light-pink);
  }

  .chart-icon {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--accent);
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    flex-shrink: 0;
  }

  .chart-icon:hover {
    transform: scale(1.05);
    box-shadow: 0 2px 12px rgba(233, 30, 99, 0.4);
  }

  .chart-icon i {
    font-size: 20px;
    color: white;
  }

  .cart-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: red;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
  }

  /* Bottom navbar capsule (mobile) */
  .bottom-nav {
    position: fixed;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--white);
    border: 1px solid #ddd;
    border-radius: 50px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 90%;
    max-width: 320px;
    padding: 10px 20px;
    box-shadow: var(--shadow);
  }

  .bottom-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #222;
    font-size: 12px;
    cursor: pointer;
    transition: color 0.3s ease;
  }

  .bottom-item:hover, .bottom-item.active {
    color: var(--accent);
  }

  .bottom-item i {
    font-size: 20px;
    margin-bottom: 4px;
  }

  .nav-title {
    font-size: 13px;
    color: var(--accent);
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: lowercase;
  }

  /* === Sidebar (desktop only) === */
  .sidebar {
    position: fixed;
    top: 20px;
    left: 20px;
    height: calc(100vh - 40px);
    width: 220px;
    background: var(--white);
    border: 1px solid #eee;
    border-radius: var(--radius);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: 30px 20px;
    box-shadow: var(--shadow);
    z-index: 999;
  }

  .sidebar-title {
    color: var(--accent);
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 50px;
    letter-spacing: 0.5px;
    align-self: center;
    text-transform: lowercase;
  }

  .sidebar-item {
    display: flex;
    align-items: center;
    gap: 12px;
    color: var(--text);
    margin-bottom: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    padding: 8px 12px;
    border-radius: 15px;
  }

  .sidebar-item:hover, .sidebar-item.active {
    background: var(--light-pink);
    box-shadow: 0 2px 10px rgba(233, 30, 99, 0.1);
  }

  .sidebar-item i {
    font-size: 20px;
    color: var(--accent);
  }

  /* Content Area */
  .content {
    padding: 80px 20px 100px;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
  }

  .page {
    display: none;
  }

  .page.active {
    display: block;
  }

  /* Parallax Section */
  .parallax-container {
    height: 60vh;
    overflow: hidden;
    position: relative;
    border-radius: var(--radius);
    margin-bottom: 30px;
  }

  .parallax-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 120%;
    background-image: url('https://i.ibb.co.com/wNsVj5Z6/file-000000006db07206a3a8b5677abc49e6.png');
    background-size: cover;
    background-position: center;
    will-change: transform;
    z-index: -1;
  }

  .parallax-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.4);
    color: white;
    text-align: center;
    padding: 20px;
  }

  .parallax-content h1 {
    font-size: 3rem;
    margin-bottom: 20px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
  }

  .parallax-content p {
    font-size: 1.2rem;
    margin-bottom: 30px;
    max-width: 600px;
  }

  .order-btn {
    background: var(--accent);
    color: white;
    border: none;
    padding: 15px 40px;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
  }

  .order-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
  }

  /* Box Selection */
  .section-title {
    font-size: 1.8rem;
    margin-bottom: 20px;
    color: var(--accent);
    text-align: center;
  }

  .box-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
  }

  .box-card {
    background: var(--white);
    border-radius: var(--radius);
    padding: 20px;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
    text-align: center;
  }

  .box-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  }

  .box-card h3 {
    font-size: 1.3rem;
    margin-bottom: 10px;
    color: var(--accent);
  }

  .box-card p {
    margin-bottom: 15px;
    color: #666;
  }

  .box-card .price {
    font-weight: 600;
    font-size: 1.1rem;
    margin-bottom: 15px;
  }

  .variant-selector {
    margin: 15px 0;
  }

  .variant-selector h4 {
    margin-bottom: 10px;
    font-size: 1rem;
  }

  .variant-options {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
  }

  .variant-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--light-pink);
    border: 1px solid var(--accent);
    border-radius: 15px;
    padding: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 70px;
    height: 85px;
    overflow: hidden;
  }

  .variant-option:hover, .variant-option.selected {
    background: var(--accent);
    color: white;
  }

  .variant-image {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-size: cover;
    background-position: center;
    margin-bottom: 5px;
  }

  .variant-name {
    font-size: 0.75rem;
    text-align: center;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding: 0 2px;
  }

  .variant-count-info {
    font-size: 0.8rem;
    color: #666;
    margin-top: 5px;
    margin-bottom: 10px;
  }

  .selected-variants {
    margin-top: 15px;
    text-align: left;
  }

  .selected-variants h4 {
    margin-bottom: 10px;
    font-size: 1rem;
  }

  .selected-variant-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--light-pink);
    border-radius: 10px;
    padding: 8px 12px;
    margin-bottom: 8px;
  }

  .selected-variant-info {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .selected-variant-image {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-size: cover;
    background-position: center;
  }

  .selected-variant-name {
    font-weight: 500;
  }

  .selected-variant-quantity {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .variant-quantity-btn {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 12px;
  }

  .variant-quantity-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  .variant-quantity-display {
    min-width: 20px;
    text-align: center;
    font-weight: 600;
  }

  .remove-variant {
    background: none;
    border: none;
    color: #e91e63;
    cursor: pointer;
    margin-left: 8px;
  }

  .quantity-control {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin: 15px 0;
  }

  .quantity-btn {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .quantity-btn:hover {
    background: #d81b60;
  }

  .quantity-display {
    font-weight: 600;
    min-width: 30px;
    text-align: center;
  }

  .box-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 0.9rem;
    color: #666;
  }

  .box-actions {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 15px;
  }

  .action-btn {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .add-cart {
    background: var(--gray);
    color: var(--text);
  }

  .add-cart:hover {
    background: #ddd;
  }

  .buy-now {
    background: var(--accent);
    color: white;
  }

  .buy-now:hover {
    background: #d81b60;
  }

  /* Special Events */
  .events-container {
    margin-bottom: 40px;
  }

  .events-scroll {
    display: flex;
    overflow-x: auto;
    gap: 20px;
    padding: 10px 0;
    scrollbar-width: thin;
    scrollbar-color: var(--accent) var(--light-pink);
  }

  .events-scroll::-webkit-scrollbar {
    height: 8px;
  }

  .events-scroll::-webkit-scrollbar-track {
    background: var(--light-pink);
    border-radius: 10px;
  }

  .events-scroll::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 10px;
  }

  .event-card {
    min-width: 280px;
    background: var(--white);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
  }

  .event-card:hover {
    transform: translateY(-5px);
  }

  .event-img {
    height: 160px;
    background-size: cover;
    background-position: center;
  }

  .event-content {
    padding: 15px;
  }

  .event-content h3 {
    margin-bottom: 10px;
    color: var(--accent);
  }

  .event-content p {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 15px;
  }

  .po-btn {
    background: var(--accent);
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s ease;
  }

  .po-btn:hover {
    background: #d81b60;
  }

  /* FAQ Section */
  .faq-container {
    margin-bottom: 40px;
  }

  .faq-item {
    background: var(--white);
    border-radius: var(--radius);
    margin-bottom: 15px;
    overflow: hidden;
    box-shadow: var(--shadow);
  }

  .faq-question {
    padding: 15px 20px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .faq-question i {
    transition: transform 0.3s ease;
  }

  .faq-question.active i {
    transform: rotate(180deg);
  }

  .faq-answer {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-answer.active {
    padding: 0 20px 15px;
    max-height: 200px;
  }

  /* Cart Page */
  .cart-container {
    background: var(--white);
    border-radius: var(--radius);
    padding: 20px;
    box-shadow: var(--shadow);
    margin-bottom: 20px;
  }

  .cart-item {
    display: flex;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid var(--gray);
  }

  .cart-item:last-child {
    border-bottom: none;
  }

  .cart-item-image {
    width: 80px;
    height: 80px;
    border-radius: 10px;
    background-size: cover;
    background-position: center;
    margin-right: 15px;
  }

  .cart-item-details {
    flex: 1;
  }

  .cart-item-title {
    font-weight: 600;
    margin-bottom: 5px;
  }

  .cart-item-variants {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 5px;
  }

  .cart-item-price {
    font-weight: 600;
    color: var(--accent);
  }

  .cart-item-actions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  .cart-quantity-control {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .cart-quantity-btn {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 12px;
  }

  .cart-quantity-display {
    min-width: 20px;
    text-align: center;
    font-weight: 600;
  }

  .remove-item {
    background: none;
    border: none;
    color: #e91e63;
    cursor: pointer;
  }

  .cart-summary {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid var(--gray);
  }

  .cart-summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
  }

  .cart-summary-total {
    display: flex;
    justify-content: space-between;
    font-weight: 600;
    font-size: 1.2rem;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--gray);
  }

  .cart-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
  }

  .cart-btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .continue-shopping {
    background: var(--gray);
    color: var(--text);
  }

  .continue-shopping:hover {
    background: #ddd;
  }

  .checkout-btn {
    background: var(--accent);
    color: white;
  }

  .checkout-btn:hover {
    background: #d81b60;
  }

  .empty-cart {
    text-align: center;
    padding: 40px;
    color: #666;
  }

  .empty-cart i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: var(--accent);
  }

  /* Order History */
  .history-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
  }

  .history-card {
    background: var(--white);
    border-radius: var(--radius);
    padding: 20px;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
  }

  .history-card:hover {
    transform: translateY(-5px);
  }

  .history-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
  }

  .history-date {
    color: #666;
    font-size: 0.9rem;
  }

  .history-status {
    background: var(--light-pink);
    color: var(--accent);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .history-details {
    margin-bottom: 15px;
  }

  .history-details h3 {
    margin-bottom: 10px;
    color: var(--accent);
  }

  .history-details p {
    margin-bottom: 5px;
    font-size: 0.9rem;
  }

  .history-estimate {
    display: flex;
    align-items: center;
    gap: 5px;
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 15px;
  }

  .history-estimate i {
    color: var(--accent);
  }

  .reorder-btn {
    background: var(--accent);
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s ease;
  }

  .reorder-btn:hover {
    background: #d81b60;
  }

  /* Search Results */
  .search-results-container {
    margin-bottom: 40px;
  }

  .search-results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .search-results-title {
    font-size: 1.5rem;
    color: var(--accent);
  }

  .search-results-count {
    color: #666;
  }

  .search-results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }

  .search-result-card {
    background: var(--white);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
  }

  .search-result-card:hover {
    transform: translateY(-5px);
  }

  .search-result-img {
    height: 160px;
    background-size: cover;
    background-position: center;
  }

  .search-result-content {
    padding: 15px;
  }

  .search-result-title {
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--accent);
  }

  .search-result-description {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 15px;
  }

  .search-result-price {
    font-weight: 600;
    margin-bottom: 15px;
  }

  .add-to-cart-btn {
    background: var(--accent);
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s ease;
  }

  .add-to-cart-btn:hover {
    background: #d81b60;
  }

  .no-results {
    text-align: center;
    padding: 40px;
    color: #666;
  }

  .no-results i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: var(--accent);
  }

  /* Payment Popup */
  .payment-popup {
    position: fixed;
    bottom: -100%;
    left: 0;
    width: 100%;
    height: 80vh;
    background: var(--white);
    border-radius: 30px 30px 0 0;
    box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
    z-index: 2000;
    transition: all 0.4s ease;
    overflow-y: auto;
    padding: 20px;
  }

  .payment-popup.active {
    bottom: 0;
  }

  .popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--gray);
  }

  .popup-title {
    font-size: 1.5rem;
    color: var(--accent);
  }

  .close-popup {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
  }

  .popup-section {
    margin-bottom: 25px;
  }

  .popup-section h3 {
    margin-bottom: 15px;
    color: var(--accent);
  }

  .form-group {
    margin-bottom: 15px;
  }

  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
  }

  .form-control {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 10px;
    font-family: inherit;
    font-size: 1rem;
  }

  .form-control:focus {
    outline: none;
    border-color: var(--accent);
  }

  .radio-group {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
  }

  .radio-option {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .delivery-estimate {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 10px;
    color: #666;
    font-size: 0.9rem;
  }

  .delivery-estimate i {
    color: var(--accent);
  }

  .payment-methods {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
  }

  .payment-method {
    background: var(--light-pink);
    border: 1px solid var(--accent);
    border-radius: 10px;
    padding: 10px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .payment-method:hover, .payment-method.selected {
    background: var(--accent);
    color: white;
  }

  .payment-method i {
    font-size: 1.5rem;
    margin-bottom: 5px;
  }

  .total-price {
    font-size: 1.3rem;
    font-weight: 600;
    text-align: right;
    margin: 20px 0;
    color: var(--accent);
  }

  .confirm-payment {
    background: var(--accent);
    color: white;
    border: none;
    padding: 15px;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.3s ease;
  }

  .confirm-payment:hover {
    background: #d81b60;
  }

  /* Notification */
  .notification {
    position: fixed;
    top: 80px;
    right: 20px;
    background: var(--white);
    border-radius: var(--radius);
    padding: 15px 20px;
    box-shadow: var(--shadow);
    z-index: 3000;
    transform: translateX(150%);
    transition: all 0.3s ease;
    max-width: 300px;
  }

  .notification.show {
    transform: translateX(0);
  }

  .notification-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
  }

  .notification-icon {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .notification-title {
    font-weight: 600;
  }

  .notification-message {
    font-size: 0.9rem;
    color: #666;
  }

  /* Location & Hours */
  .info-bar {
    background: var(--white);
    padding: 15px;
    border-radius: var(--radius);
    margin-bottom: 20px;
    box-shadow: var(--shadow);
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 10px;
  }

  .info-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #666;
  }

  .info-item i {
    color: var(--accent);
  }

  /* Responsive rules */
  @media (max-width: 768px) {
    .sidebar {
      display: none;
    }
    
    .parallax-content h1 {
      font-size: 2rem;
    }
    
    .parallax-content p {
      font-size: 1rem;
    }
    
    .box-container {
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }
    
    .bottom-nav {
      width: 90%;
      max-width: 280px;
    }
    
    .variant-option {
      width: 60px;
      height: 75px;
    }
    
    .variant-image {
      width: 35px;
      height: 35px;
    }
    
    .variant-name {
      font-size: 0.7rem;
    }
    
    .floating-container {
      width: 95%;
    }
    
    .search-bar {
      width: 100%;
    }
    
    .payment-popup {
      height: 90vh;
    }
  }

  @media (min-width: 769px) {
    .bottom-nav {
      display: none;
    }
    
    .content {
      margin-left: 260px;
    }
  }
  
  @media (max-width: 480px) {
    .box-container {
      grid-template-columns: 1fr;
    }
    
    .history-container {
      grid-template-columns: 1fr;
    }
    
    .search-results-grid {
      grid-template-columns: 1fr;
    }
    
    .payment-methods {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
</head>
<body>

  <!-- Floating Search Capsule -->
  <div class="floating-container">
    <div class="search-container">
      <input type="text" class="search-bar" placeholder="Cari donat favoritmu..." id="search-input">
      <div class="autocomplete-dropdown" id="autocomplete-dropdown"></div>
    </div>
    <div class="chart-icon" id="cart-icon">
      <i class="fas fa-shopping-cart"></i>
      <span class="cart-badge" id="cart-badge" style="display: none;">0</span>
    </div>
  </div>

  <!-- Sidebar (Desktop Only) -->
  <div class="sidebar">
    <div class="sidebar-title">mama.id</div>

    <div class="sidebar-item active" data-page="order">
      <i class="fas fa-shopping-bag"></i>
      <span>Order</span>
    </div>

    <div class="sidebar-item" data-page="cart">
      <i class="fas fa-shopping-cart"></i>
      <span>Keranjang</span>
    </div>

    <div class="sidebar-item" data-page="recent">
      <i class="fas fa-history"></i>
      <span>Recent</span>
    </div>
    
    <div class="sidebar-item">
      <i class="fas fa-map-marker-alt"></i>
      <span>Lokasi</span>
    </div>
    
    <div class="sidebar-item">
      <i class="fas fa-clock"></i>
      <span>Jam Buka</span>
    </div>
  </div>

  <!-- Bottom Navbar (Mobile Only) -->
  <div class="bottom-nav">
    <div class="bottom-item active" data-page="order">
      <i class="fas fa-shopping-bag"></i>
      <span>Order</span>
    </div>
    <div class="bottom-item" data-page="recent">
      <i class="fas fa-history"></i>
      <span>Recent</span>
    </div>
    <div class="nav-title">mama.id</div>
  </div>

  <!-- Content Area -->
  <div class="content">
    <!-- Order Page -->
    <div class="page active" id="order-page">
      <!-- Location & Hours Info -->
      <div class="info-bar">
        <div class="info-item">
          <i class="fas fa-map-marker-alt"></i>
          <span>Cianjur, Jawa Barat, Cugenang</span>
        </div>
        <div class="info-item">
          <i class="fas fa-clock"></i>
          <span>08.00 - 21.00 WIB</span>
        </div>
      </div>
      
      <!-- Parallax Section -->
      <div class="parallax-container">
        <div class="parallax-bg"></div>
        <div class="parallax-content">
          <h1>Donat Lezat Mama.id</h1>
          <p>Nikmati donat lezat dengan berbagai pilihan rasa dan varian menarik</p>
          <button class="order-btn">Pesan Sekarang</button>
        </div>
      </div>

      <!-- Box Selection -->
      <div class="box-selection">
        <h2 class="section-title">Pilih Box Donatmu</h2>
        <div class="box-container">
          <!-- Mini Box -->
          <div class="box-card" data-box="mini" data-base-price="35000" data-base-count="6" data-unit-price="5500">
            <h3>Mini Box</h3>
            <div class="box-info">
              <span>Isi: <span class="box-count">6</span> donat</span>
              <span class="box-price">Rp 35.000</span>
            </div>
            
            <div class="variant-selector">
              <h4>Pilih Varian:</h4>
              <div class="variant-options">
                <div class="variant-option" data-variant="Snow Matcha">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp');"></div>
                  <div class="variant-name">Snow Matcha</div>
                </div>
                <div class="variant-option" data-variant="Stroberry Smooth">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg');"></div>
                  <div class="variant-name">Stroberry Smooth</div>
                </div>
                <div class="variant-option" data-variant="Snow Cheese">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg');"></div>
                  <div class="variant-name">Snow Cheese</div>
                </div>
                <div class="variant-option" data-variant="White Snow">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/C3RhFDDw/images-20.jpg');"></div>
                  <div class="variant-name">White Snow</div>
                </div>
                <div class="variant-option" data-variant="Dark Moon">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg');"></div>
                  <div class="variant-name">Dark Moon</div>
                </div>
                <div class="variant-option" data-variant="Black Almond">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg');"></div>
                  <div class="variant-name">Black Almond</div>
                </div>
                <div class="variant-option" data-variant="Black Cover">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kgSjC5tQ/images-18.jpg');"></div>
                  <div class="variant-name">Black Cover</div>
                </div>
                <div class="variant-option" data-variant="Red Velvet">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/zzTSpcX/images-19.jpg');"></div>
                  <div class="variant-name">Red Velvet</div>
                </div>
              </div>
              
              <div class="variant-count-info">
                Total donat yang dipilih: <span id="variant-count-mini">0</span>/<span class="box-capacity">6</span>
              </div>
              
              <div class="selected-variants" id="selected-variants-mini">
                <h4>Varian Dipilih:</h4>
                <div class="selected-variants-list"></div>
              </div>
            </div>
            
            <div class="quantity-control">
              <button class="quantity-btn minus">-</button>
              <div class="quantity-display">1</div>
              <button class="quantity-btn plus">+</button>
            </div>
            
            <div class="box-actions">
              <button class="action-btn add-cart">+ Keranjang</button>
              <button class="action-btn buy-now">Beli</button>
            </div>
          </div>
          
          <!-- Medium Box -->
          <div class="box-card" data-box="medium" data-base-price="68000" data-base-count="12" data-unit-price="5500">
            <h3>Medium Box</h3>
            <div class="box-info">
              <span>Isi: <span class="box-count">12</span> donat</span>
              <span class="box-price">Rp 68.000</span>
            </div>
            
            <div class="variant-selector">
              <h4>Pilih Varian:</h4>
              <div class="variant-options">
                <div class="variant-option" data-variant="Snow Matcha">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp');"></div>
                  <div class="variant-name">Snow Matcha</div>
                </div>
                <div class="variant-option" data-variant="Stroberry Smooth">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg');"></div>
                  <div class="variant-name">Stroberry Smooth</div>
                </div>
                <div class="variant-option" data-variant="Snow Cheese">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg');"></div>
                  <div class="variant-name">Snow Cheese</div>
                </div>
                <div class="variant-option" data-variant="White Snow">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/C3RhFDDw/images-20.jpg');"></div>
                  <div class="variant-name">White Snow</div>
                </div>
                <div class="variant-option" data-variant="Dark Moon">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg');"></div>
                  <div class="variant-name">Dark Moon</div>
                </div>
                <div class="variant-option" data-variant="Black Almond">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg');"></div>
                  <div class="variant-name">Black Almond</div>
                </div>
                <div class="variant-option" data-variant="Black Cover">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kgSjC5tQ/images-18.jpg');"></div>
                  <div class="variant-name">Black Cover</div>
                </div>
                <div class="variant-option" data-variant="Red Velvet">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/zzTSpcX/images-19.jpg');"></div>
                  <div class="variant-name">Red Velvet</div>
                </div>
              </div>
              
              <div class="variant-count-info">
                Total donat yang dipilih: <span id="variant-count-medium">0</span>/<span class="box-capacity">12</span>
              </div>
              
              <div class="selected-variants" id="selected-variants-medium">
                <h4>Varian Dipilih:</h4>
                <div class="selected-variants-list"></div>
              </div>
            </div>
            
            <div class="quantity-control">
              <button class="quantity-btn minus">-</button>
              <div class="quantity-display">1</div>
              <button class="quantity-btn plus">+</button>
            </div>
            
            <div class="box-actions">
              <button class="action-btn add-cart">+ Keranjang</button>
              <button class="action-btn buy-now">Beli</button>
            </div>
          </div>
          
          <!-- Big Box -->
          <div class="box-card" data-box="big" data-base-price="101000" data-base-count="18" data-unit-price="5500">
            <h3>Big Box</h3>
            <div class="box-info">
              <span>Isi: <span class="box-count">18</span> donat</span>
              <span class="box-price">Rp 101.000</span>
            </div>
            
            <div class="variant-selector">
              <h4>Pilih Varian:</h4>
              <div class="variant-options">
                <div class="variant-option" data-variant="Snow Matcha">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp');"></div>
                  <div class="variant-name">Snow Matcha</div>
                </div>
                <div class="variant-option" data-variant="Stroberry Smooth">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg');"></div>
                  <div class="variant-name">Stroberry Smooth</div>
                </div>
                <div class="variant-option" data-variant="Snow Cheese">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg');"></div>
                  <div class="variant-name">Snow Cheese</div>
                </div>
                <div class="variant-option" data-variant="White Snow">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/C3RhFDDw/images-20.jpg');"></div>
                  <div class="variant-name">White Snow</div>
                </div>
                <div class="variant-option" data-variant="Dark Moon">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg');"></div>
                  <div class="variant-name">Dark Moon</div>
                </div>
                <div class="variant-option" data-variant="Black Almond">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg');"></div>
                  <div class="variant-name">Black Almond</div>
                </div>
                <div class="variant-option" data-variant="Black Cover">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kgSjC5tQ/images-18.jpg');"></div>
                  <div class="variant-name">Black Cover</div>
                </div>
                <div class="variant-option" data-variant="Red Velvet">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/zzTSpcX/images-19.jpg');"></div>
                  <div class="variant-name">Red Velvet</div>
                </div>
              </div>
              
              <div class="variant-count-info">
                Total donat yang dipilih: <span id="variant-count-big">0</span>/<span class="box-capacity">18</span>
              </div>
              
              <div class="selected-variants" id="selected-variants-big">
                <h4>Varian Dipilih:</h4>
                <div class="selected-variants-list"></div>
              </div>
            </div>
            
            <div class="quantity-control">
              <button class="quantity-btn minus">-</button>
              <div class="quantity-display">1</div>
              <button class="quantity-btn plus">+</button>
            </div>
            
            <div class="box-actions">
              <button class="action-btn add-cart">+ Keranjang</button>
              <button class="action-btn buy-now">Beli</button>
            </div>
          </div>
          
          <!-- Party Box -->
          <div class="box-card" data-box="party" data-base-price="134000" data-base-count="24" data-unit-price="5500">
            <h3>Party Box</h3>
            <div class="box-info">
              <span>Isi: <span class="box-count">24</span> donat</span>
              <span class="box-price">Rp 134.000</span>
            </div>
            
            <div class="variant-selector">
              <h4>Pilih Varian:</h4>
              <div class="variant-options">
                <div class="variant-option" data-variant="Snow Matcha">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp');"></div>
                  <div class="variant-name">Snow Matcha</div>
                </div>
                <div class="variant-option" data-variant="Stroberry Smooth">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg');"></div>
                  <div class="variant-name">Stroberry Smooth</div>
                </div>
                <div class="variant-option" data-variant="Snow Cheese">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg');"></div>
                  <div class="variant-name">Snow Cheese</div>
                </div>
                <div class="variant-option" data-variant="White Snow">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/C3RhFDDw/images-20.jpg');"></div>
                  <div class="variant-name">White Snow</div>
                </div>
                <div class="variant-option" data-variant="Dark Moon">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg');"></div>
                  <div class="variant-name">Dark Moon</div>
                </div>
                <div class="variant-option" data-variant="Black Almond">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg');"></div>
                  <div class="variant-name">Black Almond</div>
                </div>
                <div class="variant-option" data-variant="Black Cover">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/kgSjC5tQ/images-18.jpg');"></div>
                  <div class="variant-name">Black Cover</div>
                </div>
                <div class="variant-option" data-variant="Red Velvet">
                  <div class="variant-image" style="background-image: url('https://i.ibb.co.com/zzTSpcX/images-19.jpg');"></div>
                  <div class="variant-name">Red Velvet</div>
                </div>
              </div>
              
              <div class="variant-count-info">
                Total donat yang dipilih: <span id="variant-count-party">0</span>/<span class="box-capacity">24</span>
              </div>
              
              <div class="selected-variants" id="selected-variants-party">
                <h4>Varian Dipilih:</h4>
                <div class="selected-variants-list"></div>
              </div>
            </div>
            
            <div class="quantity-control">
              <button class="quantity-btn minus">-</button>
              <div class="quantity-display">1</div>
              <button class="quantity-btn plus">+</button>
            </div>
            
            <div class="box-actions">
              <button class="action-btn add-cart">+ Keranjang</button>
              <button class="action-btn buy-now">Beli</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Special Events -->
      <div class="events-container">
        <h2 class="section-title">Spesial Acara</h2>
        <div class="events-scroll">
          <!-- Birthday Event -->
          <div class="event-card">
            <div class="event-img" style="background-image: url('https://i.ibb.co.com/N6h7YDwB/images-21.jpg');"></div>
            <div class="event-content">
              <h3>Ulang Tahun</h3>
              <p>Paket spesial untuk perayaan ulang tahun dengan donat custom dan hiasan tematik</p>
              <button class="po-btn" data-event="Ulang Tahun">Pre-Order</button>
            </div>
          </div>
          
          <!-- Family Event -->
          <div class="event-card">
            <div class="event-img" style="background-image: url('https://i.ibb.co.com/8DGn3NdW/images-23.jpg');"></div>
            <div class="event-content">
              <h3>Acara Keluarga</h3>
              <p>Paket hemat untuk acara kumpul keluarga dengan berbagai pilihan rasa</p>
              <button class="po-btn" data-event="Acara Keluarga">Pre-Order</button>
            </div>
          </div>
          
          <!-- Religious Event -->
          <div class="event-card">
            <div class="event-img" style="background-image: url('https://i.ibb.co.com/PGHsf2sf/images-22.jpg');"></div>
            <div class="event-content">
              <h3>Pengajian</h3>
              <p>Paket untuk acara pengajian dengan donat halal dan pilihan rasa tradisional</p>
              <button class="po-btn" data-event="Pengajian">Pre-Order</button>
            </div>
          </div>
          
          <!-- School Event -->
          <div class="event-card">
            <div class="event-img" style="background-image: url('https://i.ibb.co.com/qYqnL23g/images-24.jpg');"></div>
            <div class="event-content">
              <h3>Acara Sekolah</h3>
              <p>Paket untuk acara sekolah dengan donat sehat dan pilihan rasa anak-anak</p>
              <button class="po-btn" data-event="Acara Sekolah">Pre-Order</button>
            </div>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="faq-container">
        <h2 class="section-title">Pertanyaan Umum</h2>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Apakah donat halal?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Ya, semua donat kami terbuat dari bahan-bahan halal dan bersertifikat halal.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Berapa lama donat bisa bertahan?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Donat kami bisa bertahan hingga 2 hari pada suhu ruangan dan 5 hari jika disimpan di kulkas.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Apakah bisa pengiriman di luar Cianjur?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Saat ini kami hanya melayani pengiriman di wilayah Cianjur dan sekitarnya.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Bagaimana cara memesan untuk acara besar?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Untuk acara besar, silakan hubungi kami langsung melalui WhatsApp minimal 3 hari sebelum acara.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Cart Page -->
    <div class="page" id="cart-page">
      <h2 class="section-title">Keranjang Belanja</h2>
      
      <div class="cart-container" id="cart-container">
        <!-- Cart items will be dynamically added here -->
      </div>
      
      <div class="empty-cart" id="empty-cart" style="display: none;">
        <i class="fas fa-shopping-basket"></i>
        <p>Keranjang belanja kosong</p>
        <button class="order-btn" style="margin-top: 20px;" onclick="navigateTo('order')">Belanja Sekarang</button>
      </div>
    </div>

    <!-- Recent Page -->
    <div class="page" id="recent-page">
      <h2 class="section-title">Riwayat Pesanan</h2>
      
      <div class="history-container" id="history-container">
        <!-- History items will be dynamically added here -->
      </div>
      
      <div id="empty-history" style="text-align: center; padding: 40px; color: #666;">
        <i class="fas fa-shopping-basket" style="font-size: 3rem; margin-bottom: 15px; color: var(--accent);"></i>
        <p>Belum ada riwayat pesanan</p>
      </div>
    </div>

    <!-- Search Results Page -->
    <div class="page" id="search-page">
      <div class="search-results-container">
        <div class="search-results-header">
          <h2 class="search-results-title">Hasil Pencarian</h2>
          <div class="search-results-count" id="search-results-count">0 hasil ditemukan</div>
        </div>
        
        <div class="search-results-grid" id="search-results-grid">
          <!-- Search results will be dynamically added here -->
        </div>
        
        <div class="no-results" id="no-results" style="display: none;">
          <i class="fas fa-search"></i>
          <p>Tidak ada hasil yang ditemukan</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Popup -->
  <div class="payment-popup" id="payment-popup">
    <div class="popup-header">
      <h2 class="popup-title">Pembayaran</h2>
      <button class="close-popup"><i class="fas fa-times"></i></button>
    </div>
    
    <div class="popup-section">
      <h3>Detail Pesanan</h3>
      <div id="order-details">
        <!-- Order details will be dynamically added here -->
      </div>
    </div>
    
    <div class="popup-section">
      <h3>Informasi Penerima</h3>
      <div class="form-group">
        <label>Nama Penerima</label>
        <input type="text" class="form-control" id="recipient-name" placeholder="Masukkan nama penerima">
      </div>
      <div class="form-group">
        <label>Nomor Kontak</label>
        <input type="tel" class="form-control" id="recipient-phone" placeholder="Masukkan nomor WhatsApp">
      </div>
      <div class="form-group">
        <label>Alamat</label>
        <textarea class="form-control" id="recipient-address" rows="3" placeholder="Masukkan alamat lengkap"></textarea>
      </div>
    </div>
    
    <div class="popup-section">
      <h3>Pilihan Pengiriman</h3>
      <div class="radio-group">
        <div class="radio-option">
          <input type="radio" id="pickup" name="delivery" value="pickup" checked>
          <label for="pickup">Ambil di Tempat</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="delivery" name="delivery" value="delivery">
          <label for="delivery">Antar ke Rumah</label>
        </div>
      </div>
      
      <div class="delivery-estimate" id="delivery-estimate" style="display: none;">
        <i class="fas fa-truck"></i>
        <span>Estimasi pengiriman: 30-60 menit</span>
      </div>
    </div>
    
    <div class="popup-section">
      <h3>Metode Pembayaran</h3>
      <div class="payment-methods">
        <div class="payment-method" data-method="transfer">
          <i class="fas fa-university"></i>
          <div>Transfer Bank</div>
        </div>
        <div class="payment-method" data-method="gopay">
          <i class="fas fa-wallet"></i>
          <div>GoPay</div>
        </div>
        <div class="payment-method" data-method="dana">
          <i class="fas fa-money-bill-wave"></i>
          <div>DANA</div>
        </div>
        <div class="payment-method" data-method="shopeepay">
          <i class="fas fa-shopping-bag"></i>
          <div>ShopeePay</div>
        </div>
        <div class="payment-method" data-method="ovo">
          <i class="fas fa-piggy-bank"></i>
          <div>OVO</div>
        </div>
        <div class="payment-method" data-method="cod">
          <i class="fas fa-hand-holding-usd"></i>
          <div>Bayar di Tempat</div>
        </div>
        <div class="payment-method" data-method="qris">
          <i class="fas fa-qrcode"></i>
          <div>Scan QRIS</div>
        </div>
      </div>
    </div>
    
    <div class="total-price" id="total-price">
      Total: Rp 0
    </div>
    
    <button class="confirm-payment" id="confirm-payment">Bayar Sekarang</button>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <div class="notification-header">
      <div class="notification-icon">
        <i class="fas fa-check"></i>
      </div>
      <div class="notification-title">Berhasil</div>
    </div>
    <div class="notification-message" id="notification-message">
      Pesanan telah ditambahkan ke keranjang
    </div>
  </div>

  <script>
    // DOM Elements
    const sidebarItems = document.querySelectorAll('.sidebar-item');
    const bottomItems = document.querySelectorAll('.bottom-item');
    const pages = document.querySelectorAll('.page');
    const paymentPopup = document.getElementById('payment-popup');
    const closePopup = document.querySelector('.close-popup');
    const confirmPayment = document.getElementById('confirm-payment');
    const notification = document.getElementById('notification');
    const notificationMessage = document.getElementById('notification-message');
    const historyContainer = document.getElementById('history-container');
    const emptyHistory = document.getElementById('empty-history');
    const orderDetails = document.getElementById('order-details');
    const totalPrice = document.getElementById('total-price');
    const cartContainer = document.getElementById('cart-container');
    const emptyCart = document.getElementById('empty-cart');
    const cartBadge = document.getElementById('cart-badge');
    const cartIcon = document.getElementById('cart-icon');
    const searchInput = document.getElementById('search-input');
    const autocompleteDropdown = document.getElementById('autocomplete-dropdown');
    const searchPage = document.getElementById('search-page');
    const searchResultsGrid = document.getElementById('search-results-grid');
    const searchResultsCount = document.getElementById('search-results-count');
    const noResults = document.getElementById('no-results');
    const deliveryEstimate = document.getElementById('delivery-estimate');
    
    // Product data for search
    const products = [
      { name: 'Mini Box', price: 35000, description: 'Isi 6 donat dengan varian pilihan', image: 'https://i.ibb.co.com/s9MmGZKw/images-25.jpg' },
      { name: 'Medium Box', price: 68000, description: 'Isi 12 donat dengan varian pilihan', image: 'https://i.ibb.co.com/mCQj2W13/images-26.jpg' },
      { name: 'Big Box', price: 101000, description: 'Isi 18 donat dengan varian pilihan', image: 'https://i.ibb.co.com/jkxrsvJw/images-27.jpg' },
      { name: 'Party Box', price: 134000, description: 'Isi 24 donat dengan varian pilihan', image: 'https://i.ibb.co.com/nMSXQs7Z/images-28.jpg' },
      { name: 'Snow Matcha', price: 5500, description: 'Donat dengan rasa matcha lezat', image: 'https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp' },
      { name: 'Stroberry Smooth', price: 5500, description: 'Donat dengan topping stroberry segar', image: 'https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg' },
      { name: 'Snow Cheese', price: 5500, description: 'Donat dengan taburan keju gurih', image: 'https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg' },
      { name: 'White Snow', price: 5500, description: 'Donat dengan topping putih lembut', image: 'https://i.ibb.co.com/C3RhFDDw/images-20.jpg' },
      { name: 'Dark Moon', price: 5500, description: 'Donat dengan topping dark coklat', image: 'https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg' },
      { name: 'Black Almond', price: 5500, description: 'Donat dengan taburan almond', image: 'https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg' },
      { name: 'Black Cover', price: 5500, description: 'Donat dengan taburan coklat bubuk yang di campur Oreo', image: 'https://i.ibb.co.com/kgSjC5tQ/images-18.jpg' },
      { name: 'Red Velvet', price: 5500, description: 'Donat dengan saus khas yang membuat orang tergoda', image: 'https://i.ibb.co.com/zzTSpcX/images-19.jpg' }
    ];
    
    // Variants data with images
    const variants = [
      { name: 'Snow Matcha', image: 'https://i.ibb.co.com/3YBhVvq8/depositphotos-254106252-stock-photo-homemade-green-tea-matcha-donuts.webp' },
      { name: 'Stroberry Smooth', image: 'https://i.ibb.co.com/QF626jSS/IMG-8620-2.jpg' },
      { name: 'Snow Cheese', image: 'https://i.ibb.co.com/HDT9hqH3/donat-keju-foto-resep-utama.jpg' },
      { name: 'White Snow', image: 'https://i.ibb.co.com/C3RhFDDw/images-20.jpg' },
      { name: 'Dark Moon', image: 'https://i.ibb.co.com/kV7Tf3Jn/images-17.jpg' },
      { name: 'Black Almond', image: 'https://i.ibb.co.com/cX6v6mFh/resize-IMG-20230707-WA0022.jpg' },
      { name: 'Black Cover', image: 'https://i.ibb.co.com/kgSjC5tQ/images-18.jpg' },
      { name: 'Red Velvet', image: 'https://i.ibb.co.com/zzTSpcX/images-19.jpg' }
    ];

    // Current order data
    let currentOrder = {
      boxType: '',
      boxPrice: 0,
      donutPrice: 5500,
      quantity: 1,
      variants: [],
      total: 0
    };
    
    // Selected variants for each box
    const selectedVariantsMap = {
      mini: [],
      medium: [],
      big: [],
      party: []
    };
    
    // Box capacity
    const boxCapacity = {
      mini: 6,
      medium: 12,
      big: 18,
      party: 24
    };
    
    // Navigation
    function navigateTo(pageId) {
      // Update active states
      sidebarItems.forEach(item => {
        if (item.dataset.page === pageId) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
      
      bottomItems.forEach(item => {
        if (item.dataset.page === pageId) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
      
      pages.forEach(page => {
        if (page.id === `${pageId}-page`) {
          page.classList.add('active');
        } else {
          page.classList.remove('active');
        }
      });
      
      // Load page-specific data
      if (pageId === 'recent') {
        loadOrderHistory();
      } else if (pageId === 'cart') {
        loadCart();
      }
    }
    
    // Event listeners for navigation
    sidebarItems.forEach(item => {
      item.addEventListener('click', () => {
        navigateTo(item.dataset.page);
      });
    });
    
    bottomItems.forEach(item => {
      item.addEventListener('click', () => {
        navigateTo(item.dataset.page);
      });
    });
    
    // Cart icon click
    cartIcon.addEventListener('click', () => {
      navigateTo('cart');
    });
    
    // Parallax effect
    window.addEventListener('scroll', () => {
      const parallaxBg = document.querySelector('.parallax-bg');
      const scrollPosition = window.pageYOffset;
      
      parallaxBg.style.transform = `translateY(${scrollPosition * 0.5}px)`;
    });
    
    // Box selection functionality
    document.querySelectorAll('.box-card').forEach(card => {
      const boxType = card.dataset.box;
      const basePrice = parseInt(card.dataset.basePrice);
      const baseCount = parseInt(card.dataset.baseCount);
      const unitPrice = parseInt(card.dataset.unitPrice);
      
      // Variant selection
      const variantOptions = card.querySelectorAll('.variant-option');
      variantOptions.forEach(option => {
        option.addEventListener('click', () => {
          const variant = option.dataset.variant;
          
          // Calculate total selected variants
          const totalSelected = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
          const currentCapacity = parseInt(card.querySelector('.box-capacity').textContent);
          
          // Check if we can add more variants
          if (totalSelected < currentCapacity) {
            // Add variant to selected list
            if (!selectedVariantsMap[boxType].find(v => v.name === variant)) {
              selectedVariantsMap[boxType].push({
                name: variant,
                quantity: 1
              });
            } else {
              // Increment quantity if already exists and we have capacity
              const existingVariant = selectedVariantsMap[boxType].find(v => v.name === variant);
              if (existingVariant.quantity < currentCapacity) {
                existingVariant.quantity++;
              } else {
                showNotification('Jumlah varian sudah mencapai batas maksimum', 'error');
                return;
              }
            }
            
            updateSelectedVariantsDisplay(boxType);
          } else {
            showNotification('Jumlah donat sudah mencapai batas maksimum box', 'error');
          }
        });
      });
      
      // Quantity control
      const minusBtn = card.querySelector('.minus');
      const plusBtn = card.querySelector('.plus');
      const quantityDisplay = card.querySelector('.quantity-display');
      const boxCountElement = card.querySelector('.box-count');
      const boxPriceElement = card.querySelector('.box-price');
      
      minusBtn.addEventListener('click', () => {
        let quantity = parseInt(quantityDisplay.textContent);
        if (quantity > 1) {
          quantity--;
          quantityDisplay.textContent = quantity;
          updateBoxInfo(card, quantity);
        }
      });
      
      plusBtn.addEventListener('click', () => {
        let quantity = parseInt(quantityDisplay.textContent);
        quantity++;
        quantityDisplay.textContent = quantity;
        updateBoxInfo(card, quantity);
      });
      
      // Add to cart
      const addCartBtn = card.querySelector('.add-cart');
      addCartBtn.addEventListener('click', () => {
        // Check if variants are selected
        if (selectedVariantsMap[boxType].length === 0) {
          showNotification('Pilih minimal satu varian donat', 'error');
          return;
        }
        
        // Check if total variants match box capacity
        const totalSelected = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
        const currentCapacity = parseInt(card.querySelector('.box-capacity').textContent);
        if (totalSelected !== currentCapacity) {
          showNotification(`Jumlah donat harus tepat ${currentCapacity} untuk ${card.querySelector('h3').textContent}`, 'error');
          return;
        }
        
        // Prepare order data
        const quantity = parseInt(quantityDisplay.textContent);
        const boxPrice = parseInt(boxPriceElement.textContent.replace('Rp ', '').replace('.', ''));
        
        currentOrder = {
          boxType: card.querySelector('h3').textContent,
          boxPrice,
          donutPrice: 5500,
          quantity,
          variants: [...selectedVariantsMap[boxType]],
          total: boxPrice * quantity
        };
        
        // Save to localStorage
        saveToCart(currentOrder);
        
        // Reset selected variants
        selectedVariantsMap[boxType] = [];
        updateSelectedVariantsDisplay(boxType);
        
        // Show notification
        showNotification('Pesanan telah ditambahkan ke keranjang');
      });
      
      // Buy now
      const buyNowBtn = card.querySelector('.buy-now');
      buyNowBtn.addEventListener('click', () => {
        // Check if variants are selected
        if (selectedVariantsMap[boxType].length === 0) {
          showNotification('Pilih minimal satu varian donat', 'error');
          return;
        }
        
        // Check if total variants match box capacity
        const totalSelected = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
        const currentCapacity = parseInt(card.querySelector('.box-capacity').textContent);
        if (totalSelected !== currentCapacity) {
          showNotification(`Jumlah donat harus tepat ${currentCapacity} untuk ${card.querySelector('h3').textContent}`, 'error');
          return;
        }
        
        // Prepare order data
        const quantity = parseInt(quantityDisplay.textContent);
        const boxPrice = parseInt(boxPriceElement.textContent.replace('Rp ', '').replace('.', ''));
        
        currentOrder = {
          boxType: card.querySelector('h3').textContent,
          boxPrice,
          donutPrice: 5500,
          quantity,
          variants: [...selectedVariantsMap[boxType]],
          total: boxPrice * quantity
        };
        
        // Open payment popup
        openPaymentPopup();
      });
    });
    
    // Update box info when quantity changes
    function updateBoxInfo(card, quantity) {
      const baseCount = parseInt(card.dataset.baseCount);
      const basePrice = parseInt(card.dataset.basePrice);
      const unitPrice = parseInt(card.dataset.unitPrice);
      
      const newCount = baseCount * quantity;
      const newPrice = basePrice * quantity;
      
      // Update display
      card.querySelector('.box-count').textContent = newCount;
      card.querySelector('.box-price').textContent = `Rp ${newPrice.toLocaleString('id-ID')}`;
      card.querySelector('.box-capacity').textContent = newCount;
      
      // Update variant count display
      const boxType = card.dataset.box;
      const countElement = document.getElementById(`variant-count-${boxType}`);
      if (countElement) {
        countElement.textContent = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
      }
      
      // Update selected variants display
      updateSelectedVariantsDisplay(boxType);
    }
    
    // Update selected variants display
    function updateSelectedVariantsDisplay(boxType) {
      const container = document.getElementById(`selected-variants-${boxType}`);
      const listContainer = container.querySelector('.selected-variants-list');
      const countElement = document.getElementById(`variant-count-${boxType}`);
      const card = document.querySelector(`[data-box="${boxType}"]`);
      const currentCapacity = parseInt(card.querySelector('.box-capacity').textContent);
      
      listContainer.innerHTML = '';
      
      // Calculate total selected variants
      const totalSelected = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
      countElement.textContent = totalSelected;
      
      if (selectedVariantsMap[boxType].length === 0) {
        listContainer.innerHTML = '<p style="color: #999; font-size: 0.9rem;">Belum ada varian dipilih</p>';
        return;
      }
      
      selectedVariantsMap[boxType].forEach((variant, index) => {
        const variantData = variants.find(v => v.name === variant.name);
        const variantItem = document.createElement('div');
        variantItem.className = 'selected-variant-item';
        variantItem.innerHTML = `
          <div class="selected-variant-info">
            <div class="selected-variant-image" style="background-image: url('${variantData.image}');"></div>
            <div class="selected-variant-name">${variant.name}</div>
          </div>
          <div class="selected-variant-quantity">
            <button class="variant-quantity-btn minus-variant" data-box="${boxType}" data-index="${index}" ${variant.quantity <= 1 ? 'disabled' : ''}>-</button>
            <div class="variant-quantity-display">${variant.quantity}</div>
            <button class="variant-quantity-btn plus-variant" data-box="${boxType}" data-index="${index}" ${totalSelected >= currentCapacity ? 'disabled' : ''}>+</button>
            <button class="remove-variant" data-box="${boxType}" data-index="${index}">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        
        listContainer.appendChild(variantItem);
      });
      
      // Add event listeners to variant controls
      listContainer.querySelectorAll('.minus-variant').forEach(btn => {
        btn.addEventListener('click', () => {
          const boxType = btn.dataset.box;
          const index = parseInt(btn.dataset.index);
          
          if (selectedVariantsMap[boxType][index].quantity > 1) {
            selectedVariantsMap[boxType][index].quantity--;
          } else {
            selectedVariantsMap[boxType].splice(index, 1);
          }
          
          updateSelectedVariantsDisplay(boxType);
        });
      });
      
      listContainer.querySelectorAll('.plus-variant').forEach(btn => {
        btn.addEventListener('click', () => {
          const boxType = btn.dataset.box;
          const index = parseInt(btn.dataset.index);
          const totalSelected = selectedVariantsMap[boxType].reduce((sum, v) => sum + v.quantity, 0);
          const card = document.querySelector(`[data-box="${boxType}"]`);
          const currentCapacity = parseInt(card.querySelector('.box-capacity').textContent);
          
          if (totalSelected < currentCapacity) {
            selectedVariantsMap[boxType][index].quantity++;
            updateSelectedVariantsDisplay(boxType);
          }
        });
      });
      
      listContainer.querySelectorAll('.remove-variant').forEach(btn => {
        btn.addEventListener('click', () => {
          const boxType = btn.dataset.box;
          const index = parseInt(btn.dataset.index);
          
          selectedVariantsMap[boxType].splice(index, 1);
          updateSelectedVariantsDisplay(boxType);
        });
      });
    }
    
    // Initialize selected variants display
    Object.keys(selectedVariantsMap).forEach(boxType => {
      updateSelectedVariantsDisplay(boxType);
    });
    
    // Pre-order buttons
    document.querySelectorAll('.po-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const eventType = btn.dataset.event;
        
        // Prepare WhatsApp message
        let whatsappMessage = `Halo Mama Donat, saya ingin melakukan pre-order untuk acara ${eventType}.\n\n`;
        whatsappMessage += `Mohon informasikan ketersediaan dan harga untuk paket acara ${eventType}.\n\n`;
        whatsappMessage += `Terima kasih.`;
        
        // Encode message for URL
        const encodedMessage = encodeURIComponent(whatsappMessage);
        
        // Open WhatsApp
        window.open(`https://wa.me/6285717377589?text=${encodedMessage}`, '_blank');
        
        // Show notification
        showNotification(`Menghubungi WhatsApp untuk pre-order ${eventType}`);
      });
    });
    
    // FAQ functionality
    document.querySelectorAll('.faq-question').forEach(question => {
      question.addEventListener('click', () => {
        question.classList.toggle('active');
        const answer = question.nextElementSibling;
        answer.classList.toggle('active');
      });
    });
    
    // Payment popup functionality
    function openPaymentPopup() {
      // Update order details
      let variantsText = '';
      currentOrder.variants.forEach(variant => {
        variantsText += `${variant.name} (${variant.quantity}), `;
      });
      variantsText = variantsText.slice(0, -2); // Remove last comma and space
      
      orderDetails.innerHTML = `
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
          <span>${currentOrder.boxType}</span>
          <span>Rp ${currentOrder.boxPrice.toLocaleString('id-ID')}</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
          <span>Jumlah</span>
          <span>${currentOrder.quantity}</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
          <span>Varian</span>
          <span>${variantsText}</span>
        </div>
      `;
      
      // Update total price
      totalPrice.textContent = `Total: Rp ${currentOrder.total.toLocaleString('id-ID')}`;
      
      // Show popup
      paymentPopup.classList.add('active');
    }
    
    closePopup.addEventListener('click', () => {
      paymentPopup.classList.remove('active');
    });
    
    // Delivery option change
    document.querySelectorAll('input[name="delivery"]').forEach(radio => {
      radio.addEventListener('change', () => {
        if (radio.value === 'delivery') {
          deliveryEstimate.style.display = 'flex';
        } else {
          deliveryEstimate.style.display = 'none';
        }
      });
    });
    
    // Payment method selection
    document.querySelectorAll('.payment-method').forEach(method => {
      method.addEventListener('click', () => {
        document.querySelectorAll('.payment-method').forEach(m => {
          m.classList.remove('selected');
        });
        method.classList.add('selected');
      });
    });
    
    // Confirm payment
    confirmPayment.addEventListener('click', () => {
      const recipientName = document.getElementById('recipient-name').value;
      const recipientPhone = document.getElementById('recipient-phone').value;
      const recipientAddress = document.getElementById('recipient-address').value;
      const deliveryOption = document.querySelector('input[name="delivery"]:checked').value;
      const selectedPaymentMethod = document.querySelector('.payment-method.selected');
      
      // Validation
      if (!recipientName || !recipientPhone) {
        showNotification('Lengkapi informasi penerima', 'error');
        return;
      }
      
      if (deliveryOption === 'delivery' && !recipientAddress) {
        showNotification('Masukkan alamat pengiriman', 'error');
        return;
      }
      
      if (!selectedPaymentMethod) {
        showNotification('Pilih metode pembayaran', 'error');
        return;
      }
      
      const paymentMethod = selectedPaymentMethod.dataset.method;
      
      // Save order to history
      const orderHistory = {
        ...currentOrder,
        recipientName,
        recipientPhone,
        recipientAddress,
        deliveryOption,
        paymentMethod,
        date: new Date().toISOString(),
        status: 'Sudah di Order',
        estimatedDelivery: deliveryOption === 'delivery' ? '30-60 menit' : 'Siap diambil'
      };
      
      saveToHistory(orderHistory);
      
      // Prepare WhatsApp message
      let whatsappMessage = `Halo Mama Donat, saya ingin memesan:\n\n`;
      whatsappMessage += `Box: ${currentOrder.boxType}\n`;
      
      let variantsText = '';
      currentOrder.variants.forEach(variant => {
        variantsText += `${variant.name} (${variant.quantity}), `;
      });
      variantsText = variantsText.slice(0, -2); // Remove last comma and space
      
      whatsappMessage += `Varian: ${variantsText}\n`;
      whatsappMessage += `Jumlah: ${currentOrder.quantity}\n`;
      whatsappMessage += `Total: Rp ${currentOrder.total.toLocaleString('id-ID')}\n\n`;
      whatsappMessage += `Informasi Penerima:\n`;
      whatsappMessage += `Nama: ${recipientName}\n`;
      whatsappMessage += `No. HP: ${recipientPhone}\n`;
      
      if (deliveryOption === 'delivery') {
        whatsappMessage += `Alamat: ${recipientAddress}\n`;
        whatsappMessage += `Estimasi Pengiriman: 30-60 menit\n`;
      } else {
        whatsappMessage += `Pengambilan: Ambil di tempat\n`;
        whatsappMessage += `Estimasi: Siap diambil\n`;
      }
      
      whatsappMessage += `\nMetode Pembayaran: ${paymentMethod}\n\n`;
      whatsappMessage += `Terima kasih.`;
      
      // Encode message for URL
      const encodedMessage = encodeURIComponent(whatsappMessage);
      
      // Open WhatsApp
      window.open(`https://wa.me/6285717377589?text=${encodedMessage}`, '_blank');
      
      // Close popup
      paymentPopup.classList.remove('active');
      
      // Show notification
      showNotification('Pesanan berhasil dikirim ke WhatsApp');
      
      // Clear cart after successful order
      if (currentOrder.fromCart) {
        clearCart();
      }
    });
    
    // Cart functionality
    function saveToCart(order) {
      let cart = JSON.parse(localStorage.getItem('mamaDonatCart')) || [];
      cart.push(order);
      localStorage.setItem('mamaDonatCart', JSON.stringify(cart));
      updateCartBadge();
    }
    
    function loadCart() {
      const cart = JSON.parse(localStorage.getItem('mamaDonatCart')) || [];
      
      if (cart.length === 0) {
        cartContainer.style.display = 'none';
        emptyCart.style.display = 'block';
        return;
      }
      
      cartContainer.style.display = 'block';
      emptyCart.style.display = 'none';
      
      cartContainer.innerHTML = '';
      
      let totalAmount = 0;
      
      cart.forEach((item, index) => {
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        
        let variantsText = '';
        item.variants.forEach(variant => {
          variantsText += `${variant.name} (${variant.quantity}), `;
        });
        variantsText = variantsText.slice(0, -2); // Remove last comma and space
        
        cartItem.innerHTML = `
          <div class="cart-item-image" style="background-image: url('https://i.ibb.co.com/Z6wpFF8d/file-000000006db07206a3a8b5677abc49e6.png');"></div>
          <div class="cart-item-details">
            <div class="cart-item-title">${item.boxType}</div>
            <div class="cart-item-variants">${variantsText}</div>
            <div class="cart-item-price">Rp ${item.total.toLocaleString('id-ID')}</div>
          </div>
          <div class="cart-item-actions">
            <div class="cart-quantity-control">
              <button class="cart-quantity-btn decrease-quantity" data-index="${index}">-</button>
              <div class="cart-quantity-display">${item.quantity}</div>
              <button class="cart-quantity-btn increase-quantity" data-index="${index}">+</button>
            </div>
            <button class="remove-item" data-index="${index}">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        
        cartContainer.appendChild(cartItem);
        
        totalAmount += item.total;
        
        // Add event listeners
        cartItem.querySelector('.decrease-quantity').addEventListener('click', () => {
          updateCartItemQuantity(index, -1);
        });
        
        cartItem.querySelector('.increase-quantity').addEventListener('click', () => {
          updateCartItemQuantity(index, 1);
        });
        
        cartItem.querySelector('.remove-item').addEventListener('click', () => {
          removeCartItem(index);
        });
      });
      
      // Add cart summary
      const cartSummary = document.createElement('div');
      cartSummary.className = 'cart-summary';
      cartSummary.innerHTML = `
        <div class="cart-summary-row">
          <span>Subtotal</span>
          <span>Rp ${totalAmount.toLocaleString('id-ID')}</span>
        </div>
        <div class="cart-summary-row">
          <span>Ongkos Kirim</span>
          <span>Rp 0</span>
        </div>
        <div class="cart-summary-total">
          <span>Total</span>
          <span>Rp ${totalAmount.toLocaleString('id-ID')}</span>
        </div>
      `;
      
      cartContainer.appendChild(cartSummary);
      
      // Add cart actions
      const cartActions = document.createElement('div');
      cartActions.className = 'cart-actions';
      cartActions.innerHTML = `
        <button class="cart-btn continue-shopping" onclick="navigateTo('order')">Lanjut Belanja</button>
        <button class="cart-btn checkout-btn" id="checkout-btn">Checkout</button>
      `;
      
      cartContainer.appendChild(cartActions);
      
      // Add event listener to checkout button
      document.getElementById('checkout-btn').addEventListener('click', () => {
        // Create a combined order from all cart items
        let combinedOrder = {
          boxType: 'Multiple Items',
          boxPrice: totalAmount,
          donutPrice: 5500,
          quantity: cart.length,
          variants: [],
          total: totalAmount,
          fromCart: true
        };
        
        // Combine all variants
        cart.forEach(item => {
          item.variants.forEach(variant => {
            combinedOrder.variants.push(variant);
          });
        });
        
        currentOrder = combinedOrder;
        openPaymentPopup();
      });
    }
    
    function updateCartItemQuantity(index, change) {
      let cart = JSON.parse(localStorage.getItem('mamaDonatCart')) || [];
      
      if (cart[index]) {
        cart[index].quantity += change;
        
        if (cart[index].quantity <= 0) {
          cart.splice(index, 1);
        } else {
          cart[index].total = cart[index].boxPrice * cart[index].quantity;
        }
        
        localStorage.setItem('mamaDonatCart', JSON.stringify(cart));
        updateCartBadge();
        loadCart();
      }
    }
    
    function removeCartItem(index) {
      let cart = JSON.parse(localStorage.getItem('mamaDonatCart')) || [];
      cart.splice(index, 1);
      localStorage.setItem('mamaDonatCart', JSON.stringify(cart));
      updateCartBadge();
      loadCart();
    }
    
    function clearCart() {
      localStorage.removeItem('mamaDonatCart');
      updateCartBadge();
    }
    
    function updateCartBadge() {
      const cart = JSON.parse(localStorage.getItem('mamaDonatCart')) || [];
      
      if (cart.length > 0) {
        cartBadge.textContent = cart.length;
        cartBadge.style.display = 'flex';
      } else {
        cartBadge.style.display = 'none';
      }
    }
    
    // Order history functionality
    function saveToHistory(order) {
      let history = JSON.parse(localStorage.getItem('mamaDonatHistory')) || [];
      history.unshift(order); // Add to beginning of array
      localStorage.setItem('mamaDonatHistory', JSON.stringify(history));
    }
    
    function loadOrderHistory() {
      const history = JSON.parse(localStorage.getItem('mamaDonatHistory')) || [];
      
      if (history.length === 0) {
        historyContainer.style.display = 'none';
        emptyHistory.style.display = 'block';
        return;
      }
      
      historyContainer.style.display = 'grid';
      emptyHistory.style.display = 'none';
      
      historyContainer.innerHTML = '';
      
      history.forEach((order, index) => {
        const date = new Date(order.date);
        const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
        
        let variantsText = '';
        order.variants.forEach(variant => {
          variantsText += `${variant.name} (${variant.quantity}), `;
        });
        variantsText = variantsText.slice(0, -2); // Remove last comma and space
        
        const historyCard = document.createElement('div');
        historyCard.className = 'history-card';
        historyCard.innerHTML = `
          <div class="history-header">
            <div class="history-date">${formattedDate}</div>
            <div class="history-status">${order.status}</div>
          </div>
          <div class="history-details">
            <h3>${order.boxType}</h3>
            <p>Varian: ${variantsText}</p>
            <p>Jumlah: ${order.quantity}</p>
            <p>Total: Rp ${order.total.toLocaleString('id-ID')}</p>
          </div>
          <div class="history-estimate">
            <i class="fas fa-clock"></i>
            <span>Estimasi: ${order.estimatedDelivery || 'N/A'}</span>
          </div>
          <button class="reorder-btn" data-index="${index}">Pesan Lagi</button>
        `;
        
        historyContainer.appendChild(historyCard);
        
        // Add event listener to reorder button
        historyCard.querySelector('.reorder-btn').addEventListener('click', () => {
          const orderIndex = parseInt(historyCard.querySelector('.reorder-btn').dataset.index);
          const orderToReorder = history[orderIndex];
          
          // Set current order
          currentOrder = {
            boxType: orderToReorder.boxType,
            boxPrice: orderToReorder.boxPrice,
            donutPrice: orderToReorder.donutPrice,
            quantity: orderToReorder.quantity,
            variants: orderToReorder.variants,
            total: orderToReorder.total
          };
          
          // Open payment popup
          openPaymentPopup();
        });
      });
    }
    
    // Search functionality
    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      if (query.length === 0) {
        autocompleteDropdown.style.display = 'none';
        return;
      }
      
      // Filter products based on query
      const filteredProducts = products.filter(product => 
        product.name.toLowerCase().includes(query)
      );
      
      // Show autocomplete dropdown
      if (filteredProducts.length > 0) {
        autocompleteDropdown.innerHTML = '';
        filteredProducts.slice(0, 5).forEach(product => {
          const item = document.createElement('div');
          item.className = 'autocomplete-item';
          item.textContent = product.name;
          item.addEventListener('click', () => {
            searchInput.value = product.name;
            autocompleteDropdown.style.display = 'none';
            performSearch(product.name);
          });
          autocompleteDropdown.appendChild(item);
        });
        autocompleteDropdown.style.display = 'block';
      } else {
        autocompleteDropdown.style.display = 'none';
      }
    });
    
    // Hide autocomplete when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-container')) {
        autocompleteDropdown.style.display = 'none';
      }
    });
    
    // Perform search when Enter is pressed
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const query = searchInput.value.trim();
        if (query) {
          performSearch(query);
        }
      }
    });
    
    function performSearch(query) {
      // Navigate to search page
      navigateTo('search');
      
      // Filter products based on query
      const filteredProducts = products.filter(product => 
        product.name.toLowerCase().includes(query.toLowerCase())
      );
      
      // Update search results count
      searchResultsCount.textContent = `${filteredProducts.length} hasil ditemukan`;
      
      // Clear previous results
      searchResultsGrid.innerHTML = '';
      
      if (filteredProducts.length === 0) {
        noResults.style.display = 'block';
        return;
      }
      
      noResults.style.display = 'none';
      
      // Display search results
      filteredProducts.forEach(product => {
        const resultCard = document.createElement('div');
        resultCard.className = 'search-result-card';
        resultCard.innerHTML = `
          <div class="search-result-img" style="background-image: url('${product.image}');"></div>
          <div class="search-result-content">
            <div class="search-result-title">${product.name}</div>
            <div class="search-result-description">${product.description}</div>
            <div class="search-result-price">Rp ${product.price.toLocaleString('id-ID')}</div>
            <button class="add-to-cart-btn" data-product='${JSON.stringify(product)}'>+ Keranjang</button>
          </div>
        `;
        
        searchResultsGrid.appendChild(resultCard);
        
        // Add event listener to add to cart button
        resultCard.querySelector('.add-to-cart-btn').addEventListener('click', () => {
          const productData = JSON.parse(resultCard.querySelector('.add-to-cart-btn').dataset.product);
          
          // Create order from product
          const order = {
            boxType: productData.name,
            boxPrice: productData.price,
            donutPrice: 5500,
            quantity: 1,
            variants: [{ name: 'Default', quantity: 1 }],
            total: productData.price
          };
          
          saveToCart(order);
          showNotification(`${productData.name} telah ditambahkan ke keranjang`);
        });
      });
    }
    
    // Notification functionality
    function showNotification(message, type = 'success') {
      notificationMessage.textContent = message;
      
      if (type === 'error') {
        notification.querySelector('.notification-icon i').className = 'fas fa-exclamation-circle';
        notification.querySelector('.notification-title').textContent = 'Error';
      } else {
        notification.querySelector('.notification-icon i').className = 'fas fa-check';
        notification.querySelector('.notification-title').textContent = 'Berhasil';
      }
      
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // Request notification permission
    if ('Notification' in window && Notification.permission === 'default') {
      Notification.requestPermission();
    }
    
    // Show browser notification if permitted
    function showBrowserNotification(title, message) {
      if (Notification.permission === 'granted') {
        new Notification(title, {
          body: message,
          icon: 'https://i.ibb.co.com/CKwJwp65/file-0000000041c87206a3a4d155bc0f6ca6.png'
        });
      }
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Update cart badge
      updateCartBadge();
      
      // Add event listener to order button in parallax
      document.querySelector('.order-btn').addEventListener('click', () => {
        document.querySelector('.box-selection').scrollIntoView({ behavior: 'smooth' });
      });
    });
  </script>
</body>
</html>
